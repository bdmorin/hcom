[pytest]
# HCOM Test Configuration - Phase 1+

# Test discovery
testpaths = unit integration e2e cli real
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Output configuration
# Note: junit-xml not in defaults - add via CLI if needed: --junit-xml=output/unit/junit.xml
addopts =
    --tb=short
    --strict-markers
    --disable-warnings
    -rfE
    --ignore=archive

# Test markers for organization
markers =
    unit: Unit tests that don't require real Claude instances
    integration: Integration tests that require real Claude instances and terminals
    slow: Tests that take more than 10 seconds
    platform: Platform-specific tests
    smoke: Quick smoke tests for basic functionality
    requires_terminal: Tests that need interactive terminal access
    requires_pexpect: Tests that require pexpect for terminal automation
    stress: Stress testing with concurrent operations and high load
    security: Security and permission handling tests

# Minimum version
minversion = 6.0

# Coverage settings (when pytest-cov is installed)
# addopts = --cov=hcom --cov-report=html --cov-report=term-missing --cov-fail-under=80

# Note: env section requires pytest-env plugin (not installed)
# HCOM_TEST_MODE environment variable is not used in codebase
